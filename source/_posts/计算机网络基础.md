---
title: 计算机网络面试题
date: 2020-08-07 10:20:23
updated:
tags: 
    - http
    - 计算机网络
categories: 学习笔记
keywords:
description: "计算机网络面试相关的一些总结"
top_img: https://cdn.jsdelivr.net/gh/daliymove/tuchuang/img/03.jpg
comments: 
cover: https://cdn.jsdelivr.net/gh/daliymove/tuchuang/img/03.jpg
toc: 
toc_number:
auto_open:
copyright:
mathjax: 
katex:
aplayer:
highlight_shrink: false
---



## 1. HTTP 协议

超文本传输协议（英文：HyperText Transfer Protocol，缩写：HTTP）是一种用于分布式、协作式和超媒体信息系统的**应用层协议**。HTTP是万维网的数据通信的基础

http是一个简单的请求-响应协议，它通常运行在TCP之上。它指定了客户端可能发送给服务器什么样的消息以及得到什么样的响应。请求和响应消息的头以ASCII码形式给出；而消息内容则具有一个类似MIME的格式。这个简单模型是早期Web成功的有功之臣，因为它使得开发和部署是那么的直截了当。——百度百科

### 关于域名解析

![](https://cdn.jsdelivr.net/gh/daliymove/tuchuang/img/image-20200811093557830.png)

### HTTP工作原理

HTTP协议定义Web客户端如何从Web服务器请求Web页面，以及服务器如何把Web页面传送给客户端。HTTP协议采用了**请求/响应模型**。客户端向服务器发送一个请求报文，请求报文包含请求的方法、URL、协议版本、请求头部和请求数据。服务器以一个状态行作为响应，响应的内容包括协议的版本、成功或者错误代码、服务器信息、响应头部和响应数据。

以下是 HTTP 请求/响应的步骤：

1. 客户端连接到Web服务器
   浏览器向 DNS 服务器请求解析该 URL 中的域名所对应的 IP 地址，一个HTTP客户端，通常是浏览器，与Web服务器的HTTP端口（默认为80）建立一个TCP套接字连接。例如，[http://www.luffycity.com](http://www.luffycity.com/)。

2. 发送HTTP请求
   通过TCP套接字，客户端向Web服务器发送一个文本的请求报文，一个请求报文由**请求行、请求头部、空行和请求数据**4部分组成。

3. 服务器接受请求并返回HTTP响应
   Web服务器**解析请求，定位请求资源**。服务器将资源复本写到TCP套接字，由客户端读取。一个响应由**状态行、响应头部、空行和响应数据**4部分组成。

4. 释放连接TCP连接
   若connection 模式为close，则服务器主动关闭TCP连接，客户端被动关闭连接，释放TCP连接;若connection 模式为keepalive，则该连接会保持一段时间，在该时间内可以继续接收请求;

5. 客户端浏览器解析HTML内容
   客户端浏览器首先解析状态行，查看表明请求是否成功的状态代码。然后解析每一个响应头，响应头告知以下为若干字节的HTML文档和文档的字符集。客户端浏览器读取响应数据HTML，根据HTML的语法对其进行格式化，并在浏览器窗口中显示。

　　![](https://cdn.jsdelivr.net/gh/daliymove/tuchuang/img/a0814.jpg)

　　**http协议是基于TCP/IP协议之上的应用层协议。**

　　**基于 请求-响应 的模式**

　　HTTP协议规定,请求从客户端发出,最后服务器端响应该请求并 返回。换句话说,肯定是先从客户端开始建立通信的,服务器端在没有 接收到请求之前不会发送响应，**服务端不能主动说话。**

　　　　![](https://cdn.jsdelivr.net/gh/daliymove/tuchuang/img/b0814.png)

　　**无状态**

　　HTTP是一种不保存状态,即无状态(stateless)协议。HTTP协议 自身不对请求和响应之间的通信状态进行保存。也就是说在HTTP这个 级别,协议对于**发送过的请求或响应都不做持久化处理**。

　　　　![](https://cdn.jsdelivr.net/gh/daliymove/tuchuang/img/c0814.png)

　　使用HTTP协议,每当有新的请求发送时,就会有对应的新响应产 生。协议本身并不保留之前一切的请求或响应报文的信息。这是为了更快地处理大量事务,确保协议的可伸缩性,而特意把HTTP协议设计成 如此简单的。可是,随着Web的不断发展,因无状态而导致业务处理变得棘手 的情况增多了。比如,用户登录到一家购物网站,即使他跳转到该站的 其他页面后,也需要能继续保持登录状态。针对这个实例,网站为了能 够掌握是谁送出的请求,需要保存用户的状态。HTTP/1.1虽然是无状态协议,但为了实现期望的保持状态功能, 于是**引入了Cookie技术。有了Cookie再用HTTP协议通信,就可以管理状态了**。有关Cookie的详细内容稍后讲解。

　　**无连接**

　　无连接的含义是限制每次连接只处理一个请求。服务器处理完客户的请求，并收到客户的应答后，即断开连接。采用这种方式可以节省传输时间，并且可以提高并发性能，不能和每个用户建立长久的连接，请求一次相应一次，服务端和客户端就中断了。但是无连接有两种方式，早期的http协议是一个请求一个响应之后，直接就断开了，但是现**在的http协议1.1版本不是直接就断开了，而是等几秒钟，这几秒钟是等什么呢，等着用户有后续的操作，如果用户在这几秒钟之内有新的请求，那么还是通过之前的连接通道来收发消息，如果过了这几秒钟用户没有发送新的请求，那么就会断开连接，这样可以提高效率，减少短时间内建立连接的次数，因为建立连接也是耗时的，默认的好像是3秒中现在**，但是这个时间是可以通过咱们后端的代码来调整的，自己网站根据自己网站用户的行为来分析统计出一个最优的等待时间。

> **来个总结 http 是一种基于请求和响应的无状态、无连接的协议**



## 2. OSI与TCP/IP各层的结构与功能

> 学习计算机⽹络时一般我们会将 OSI 和 TCP/IP 的优点进行合并，采用一种只有五层协议的体系结构，如下图所示，这样既简洁⼜能将概念阐述清楚

![](https://cdn.jsdelivr.net/gh/daliymove/tuchuang/img/20200807090901.png)

* 网络通信过程

在[网络通信](https://baike.baidu.com/item/网络通信/9636548)的过程中，将发出数据的主机称为源主机，接收数据的主机称为目的主机。当源主机发出数据时，数据在源主机中从上层向下层传送。源主机中的应用进程先将数据交给应用层，应用层加上必要的控制信息就成了报文流，向下传给传输层。传输层将收到的数据单元加上本层的控制信息，形成报文段、数据报，再交给网际层。网际层加上本层的控制信息，形成IP数据报，传给网络接口层。网络接口层将网际层交下来的IP数据报组装成帧，并以比特流的形式传给网络硬件（即物理层），数据就离开源主机。

* 相关层定义及协议（了解，没怎么弄明白）

**应用层**

**应用层作用：定义数据格式并按照对应的格式解读数据。**

应用层的协议很多，比如域名系统DNS，万维网HTTP协议，支持电子邮件的SMTP协议等；

通常我们把应用层交互的数据单元称为 **报文**；

**传输层**

**传输层负责提供两节点之间数据的可靠传送，当两节点的联系确定之后，传输层则负责监督工作**

其主要使用以下两种协议：

1. 传输控制协议 TCP（Transmission Control Protocol）提供面向连接的，可靠的数据传输服务。 

2. 用户数据协议 UDP（User Datagram Protocol）提供无连接的，尽最大努力的数据传输服务 （不保证数据传输的可靠性）。

**网络层**

**网络层主要解决不同子网间的通信**。

在计算机网络络中进行通信的两个计算机之间可能会经过很多个数据链路，也可能还要经过很多通信子网。网络层的任务就是选择合适的网间路由和交换结点， 确保数据及时传送，在发送数据时，网络层把运输层产生的报文段或用户数据报封装成分组和包进行传送。在 TCP/IP 体系结构中，由于网络层使用的是IP协议，因此分组也叫 IP 数据报 ，简称数据报

**数据链路层**

该层的主要功能是：**通过各种控制协议，将有差错的物理信道变为无差错的、能可靠传输数据帧的数据链路**

数据链路层(data link layer)通常简称为链路层。两台主机之间的数据传输，总是在一段一段的链路上传送的，这就需要使用专门的链路层的协议。在两个相邻节点之间传送数据时，数据链路层将网络层交下来的 IP 数据报组装成帧，在两个相邻节点间的链路上传送帧。每一帧包括数据和必要的控制信息（如同步信息，地址信息，差错控制等）

**物理层**

**利用传输介质为数据链路层提供物理连接，实现比特流的透明传输。**

物理层的作用是实现相邻计算机节点之间比特流的透明传送，尽可能屏蔽掉具体传输介质和物理设备的差异。使其上面的数据链路层不必考虑网络的具体传输介质是什么。“透明传送比特流”表示经实际电路传送后的比特流没有发生变化，对传送的比特流来说，这个电路好像是看不见的。

具体可以参考：[OSI七层模型详解](https://blog.csdn.net/yaopeng_2005/article/details/7064869)

### 一张大图让你清晰了解OSI 七层模型

![](https://cdn.jsdelivr.net/gh/daliymove/tuchuang/img/000807.jpg)





## 3. TCP 三次握手和四次挥手(面试常客)

![](https://cdn.jsdelivr.net/gh/daliymove/tuchuang/img/image-20200811111310633.png)